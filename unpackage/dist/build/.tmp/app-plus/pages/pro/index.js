(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/pro/index"],{"17e7":function(o,t,s){"use strict";var e=function(){var o=this,t=o.$createElement;o._self._c},i=[];s.d(t,"a",function(){return e}),s.d(t,"b",function(){return i})},"3a94":function(o,t,s){"use strict";s.r(t);var e=s("9401"),i=s.n(e);for(var n in e)"default"!==n&&function(o){s.d(t,o,function(){return e[o]})}(n);t["default"]=i.a},"648b":function(o,t,s){},"75a1":function(o,t,s){"use strict";var e=s("648b"),i=s.n(e);i.a},9401:function(o,t,s){"use strict";(function(o,e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){return s.e("components/uni-load-more/uni-load-more").then(s.bind(null,"548e"))},n=function(){return s.e("components/uni-popup/uni-popup").then(s.bind(null,"559c"))},a={components:{uniLoadMore:i,uniPopup:n},data:function(){return{shopObj:{},isReason:!1,Reason:"",isSales:!1,reason:"",selesNum:"",type:1,status:"loading",delState:1,delIsShow:!1,stockShow:!1,stockNum:"",shareShow:!1,statusArr:["","出售中","待审核","已售罄","已下架","查看原因","已撤销"],showPopupBottomShare:!1,proList:[],proStatus:"",bottomData:[{src:"../../static/shareImg/info_weibo@2x.png",text:"微博"},{src:"../../static/shareImg/info_wechat@2x.png",text:"微信"},{src:"../../static/shareImg/info_friends@2x.png",text:"朋友圈"}],pageNo:1,proId:"",pageAll:2,productMonthSaleSum:""}},methods:{seeReason:function(t){if(console.log(o(t," at pages\\pro\\index.vue:266")),t){var s=this;s.isReason=!s.isReason,s.Reason=t}},isSalesChange:function(o,t){this.selesNum="",o?(this.productMonthSaleSum=t,this.proId=o):this.proId="",this.isSales=!this.isSales},sales:function(){var o=this;o.selesNum?o.$ajax({url:"/shopProduct/updateShopProductIsOnSale",data:{isOnSale:7,productId:o.proId,shopId:o.shopObj.shopId,sumStock:o.selesNum},success:function(t){o.isSales=!o.isSales,e.showToast({title:"修改成功",icon:"none"})}}):e.showToast({title:"请输入要修改的月销量",icon:none})},delStateChange:function(o,t,s){this.delState=o,this.proId=t,this.proStatus=s,this.delIsShow=!this.delIsShow},stock:function(o){this.proId=o,this.stockShow=!this.stockShow},hidePopup:function(o){this.showPopupBottomShare=!this.showPopupBottomShare,o&&(this.proId=o)},seePro:function(o){e.navigateTo({url:"/pages/pro/proSee?productId="+o})},shareFun:function(t){var s=this,i=1*t.currentTarget.dataset.index,n="",a="",r="",u="http://www.hnlxyj.com/wx/html/mall/details.html?id="+s.proId;for(var c in s.proList)if(s.proId==s.proList[c].productId){n=s.proList[c].productImg,r=s.proList[c].productName;break}switch(i){case 0:e.share({provider:"sinaweibo",type:0,href:u||"",title:a||"",summary:r||"",imageUrl:n||"",success:function(t){console.log(o("success:"+JSON.stringify(t)," at pages\\pro\\index.vue:363"))},fail:function(t){e.showToast({title:"请安装微博后再分享",icon:"none"}),console.log(o("fail:"+JSON.stringify(t)," at pages\\pro\\index.vue:370"))}});break;case 1:e.share({provider:"weixin",scene:"WXSceneSession",type:0,href:u||"",title:a||"",summary:r||"",imageUrl:n||"",success:function(t){console.log(o("success:"+JSON.stringify(t)," at pages\\pro\\index.vue:385"))},fail:function(t){e.showToast({title:"请安装微信后再分享",icon:"none"}),console.log(o("fail:"+JSON.stringify(t)," at pages\\pro\\index.vue:392"))}});break;case 2:e.share({provider:"weixin",scene:"WXSenceTimeline",type:0,href:u,title:a,summary:r,imageUrl:n,success:function(t){console.log(o("success:"+JSON.stringify(t)," at pages\\pro\\index.vue:407"))},fail:function(t){e.showToast({title:"请安装微信后再分享",icon:"none"}),console.log(o("fail:"+JSON.stringify(t)," at pages\\pro\\index.vue:414"))}});break;case 3:e.share({provider:"qq",type:3,href:u,title:a,summary:r,imageUrl:n,success:function(t){console.log(o("success:"+JSON.stringify(t)," at pages\\pro\\index.vue:428"))},fail:function(t){console.log(o("fail:"+JSON.stringify(t)," at pages\\pro\\index.vue:431"))}});break;case 4:e.share({provider:"qq",type:3,href:u,title:a,summary:r,imageUrl:n,success:function(t){console.log(o("success:"+JSON.stringify(t)," at pages\\pro\\index.vue:445"))},fail:function(t){console.log(o("fail:"+JSON.stringify(t)," at pages\\pro\\index.vue:448"))}});break}},commit:function(){var o=this;1==o.delState?(o.proStatusFun(o.proStatus,o.proId),this.delIsShow=!this.delIsShow):o.$ajax({url:"/shopProduct/deleteShopduct",method:"POST",data:{productId:o.proId},success:function(t){for(var s in o.delIsShow=!o.delIsShow,o.proList)if(o.proId==o.proList[s].productId){o.proList.splice(s,1);break}e.showToast({title:"删除成功",icon:"none"})}})},proStatusFun:function(o,t){var s=this;this.$ajax({url:"/shopProduct/updateShopProductIsOnSale",method:"POST",data:{isOnSale:o,productId:t,shopId:s.shopObj.shopId},success:function(o){for(var e in s.proList)t==s.proList[e].productId&&(s.proList[e].isOnSale=o.isOnSale)}})},commitStock:function(){var o=this;this.stockShow=!this.stockShow,this.$ajax({url:"/shopProduct/updateShopProductsumStock",method:"POST",data:{productId:o.proId,sumStock:o.stockNum},success:function(t){for(var s in o.proList)if(o.proId==o.proList[s].productId)return o.proList[s].sumStock=t.sumStock,o.proList[s].isOnSale=t.isOnSale,!1}})},init:function(o){this.type=o,this.pageNo=1,this.pageAll=2,this.status="loading",this.search()},search:function(){var o=this;o.pageNo<=o.pageAll&&this.$ajax({url:"/shopProduct/selectShopProduct",method:"POST",data:{shopId:o.shopObj.shopId,type:o.type,pageNo:o.pageNo},success:function(t){if(o.pageNo=1*o.pageNo+1,o.pageAll=t.totalPage,2==o.pageNo)o.proList=t.lists||[];else{o.proList;o.proList=o.proList.concat(t.lists)}o.pageNo>o.pageAll&&(o.status="noMore")}})},edit:function(o){e.navigateTo({url:"/pages/pro/proAdd?proId="+o})}},onReachBottom:function(){this.search()},onLoad:function(){var o=this;e.getStorage({key:"shopObj",success:function(t){o.shopObj=JSON.parse(t.data)}})},onShow:function(){this.init(1)},onNavigationBarButtonTap:function(o){e.navigateTo({url:"/pages/pro/proAdd"})}};t.default=a}).call(this,s("0de9")["default"],s("6e42")["default"])},a660:function(o,t,s){"use strict";s.r(t);var e=s("17e7"),i=s("3a94");for(var n in i)"default"!==n&&function(o){s.d(t,o,function(){return i[o]})}(n);s("75a1");var a=s("2877"),r=Object(a["a"])(i["default"],e["a"],e["b"],!1,null,"2d216ee6",null);t["default"]=r.exports}},[["2aec","common/runtime","common/vendor"]]]);