(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/enter/index"],{"14f2":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=(e._self._c,e.__map(e.dataList,function(t,n){var a=e._f("formateItem")(t.shopIdentity);return{$orig:e.__get_orig(t),f0:a}}));e.$mp.data=Object.assign({},{$root:{l0:n}})},o=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o})},"505b":function(e,t,n){"use strict";n.r(t);var a=n("14f2"),o=n("c9e1");for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);n("7683");var s=n("2877"),r=Object(s["a"])(o["default"],a["a"],a["b"],!1,null,"3c0ab5b5",null);t["default"]=r.exports},7683:function(e,t,n){"use strict";var a=n("f480"),o=n.n(a);o.a},b972:function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){return Promise.all([n.e("common/vendor"),n.e("components/w-picker/w-picker")]).then(n.bind(null,"9c59"))},i=function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"559c"))},s=function(){return n.e("components/uni-load-more/uni-load-more").then(n.bind(null,"548e"))},r=function(){return n.e("components/uni-icon/uni-icon").then(n.bind(null,"50ee"))},c={components:{wPicker:o,uniPopup:i,uniLoadMore:s,uniIcon:r},data:function(){return{shopObj:"",pageNo:1,pageAll:2,marchantId:"",shopIdentity:"",status:"loading",enterType:2,allianceFunds:["8%","15%"],level:"",usinessIdentity:["小微商户自收款","特约商户自收款","特约商户代收款"],identityArray:["小微商户自收款","特约商户自收款","特约商户代收款"],isFrontArr:["需要","不需要"],paymentArray:["联盟支付","普通支付"],checkNote:"",levelIndex:0,dataList:[],isShow:!1,searchContent:""}},filters:{formateItem:function(e){return 1==e?"小微商户自收款":2==e?"特约商户自收款":3==e?"特约商户代收款":"暂无用户身份"}},methods:{map:function(){var t=this;e.chooseLocation({success:function(n){console.log(a("位置名称："+n.name," at pages\\enter\\index.vue:231")),console.log(a("详细地址："+n.address," at pages\\enter\\index.vue:232")),console.log(a("纬度："+n.latitude," at pages\\enter\\index.vue:233")),console.log(a("经度："+n.longitude," at pages\\enter\\index.vue:234")),t.$ajax({url:"/channelManagementRest/updateGeographicPosition",data:{latitude:n.latitude,longitude:n.longitude,shopId:t.shopObj.shopId},success:function(t){e.showToast({title:"修改成功",icon:"none"})}})}})},isFrontArrChange:function(t){console.log(a(t," at pages\\enter\\index.vue:253")),console.log(a("选择线下支付是否需要变更之前的的用户身份是"+t.currentTarget.dataset.identity," at pages\\enter\\index.vue:254"));var n=this;n.$ajax({url:"/channelManagementRest/updateLineIsFront",data:{marchantId:n.shopObj.merchantId,isFront:1*t.detail.value+1,shopIdentity:t.currentTarget.dataset.identity},success:function(t){n.dataList[0].isFront=t.isFront,n.shopObj.isFront=t.isFront,e.setStorageSync("shopObj",JSON.stringify(n.shopObj))}})},changePayment:function(e){console.log(a("兄台,你好,你选择的是"+e.detail.value," at pages\\enter\\index.vue:273")),console.log(a("你好,获取的用户身份是"+e.currentTarget.dataset.identity," at pages\\enter\\index.vue:274"));var t=this;t.$ajax({url:"/channelManagementRest/updatePayment",data:{payment:0==e.detail.value?1:2,marchantId:t.shopObj.merchantId,shopIdentity:e.currentTarget.dataset.identity},success:function(e){console.log(a(e," at pages\\enter\\index.vue:284")),console.log(a("你好,你选择的支付方式是"+e.payment," at pages\\enter\\index.vue:285")),t.dataList[0].payment=e.payment}})},shopIdentityChange:function(e){var t=this;console.log(a("你好,你选择的用户身份的索引是"+e.detail.value," at pages\\enter\\index.vue:299")),0==e.detail.value?t.shopIdentity=1:1==e.detail.value?t.shopIdentity=2:2==e.detail.value&&(t.shopIdentity=3),t.$ajax({url:"/channelManagementRest/updateshopIdentity",data:{marchantId:t.shopObj.merchantId,shopIdentity:t.shopIdentity},success:function(e){console.log(a(e," at pages\\enter\\index.vue:317")),t.dataList[0].shopIdentity=e.shopIdentity}})},typeChange:function(e){this.enterType=e,this.init(),this.search()},sub:function(t){e.navigateTo({url:"enter1?id="+t})},init:function(){var e=this;e.pageNo=1,e.pageAll=2,e.dataList=[],e.status="loading"},searchName:function(){this.init(),this.search()},confirmFunds:function(e){console.log(a("你好,联盟经费变动前该用户的身份是"+e.currentTarget.dataset.identity," at pages\\enter\\index.vue:350"));var t=this;t.$ajax({url:"/channelManagementRest/updateLinePayRatio",data:{linePayRatio:1==e.detail.value?150:80,marchantId:t.shopObj.merchantId,shopIdentity:e.currentTarget.dataset.identity},success:function(e){console.log(a(e," at pages\\enter\\index.vue:360")),t.dataList[0].linePayRatio=e.linePayRatio}})},confirmLevel:function(e){this.levelIndex=e.detail.value},statShow:function(e){null!=e&&(this.checkNote=e),this.isShow=!this.isShow},search:function(){var e=this;console.log(a(e.shopObj," at pages\\enter\\index.vue:378")),e.pageNo<=e.pageAll&&(console.log(a(5-e.levelIndex," at pages\\enter\\index.vue:380")),e.$ajax({url:"/channelManagementRest/channelManagement",data:{ditchId:e.level[e.levelIndex].index,marchantId:e.shopObj.merchantId,pageNo:e.pageNo,name:e.searchContent,type:e.enterType},success:function(t){if(e.pageNo=1*e.pageNo+1,e.pageAll=t.totalPage,2==e.pageNo)e.dataList=t.lists||[];else{e.dataList;e.dataList=e.dataList.concat(t.lists)}e.pageNo>e.pageAll&&(e.status="noMore")}}))}},onReachBottom:function(){this.search()},onLoad:function(){var t=this;e.getStorage({key:"shopObj",success:function(e){t.shopObj=JSON.parse(e.data),t.merchantId=t.shopObj.merchantId,console.log(a("你好,我获取的shopObj是"+t.shopObj," at pages\\enter\\index.vue:419")),console.log(a("你好,我获取的mechardId是"+t.shopObj.merchantId," at pages\\enter\\index.vue:420")),1==t.shopObj.level?t.level=[{text:"全部直属",index:""},{text:"B(渠道商)",index:"3"},{text:"A(联盟商家)",index:"2"}]:2==t.shopObj.level?t.level=[{text:"全部",index:""},{text:"A(联盟商家)",index:"2"}]:(t.shopObj.levelName="A",t.level=[{index:""}])}}),t.search()},onNavigationBarButtonTap:function(t){3!=this.shopObj.level?e.navigateTo({url:"enter1?merchantId="+this.shopObj.merchantId}):e.showToast({title:"您当前的级别不够，请去升级",icon:"none"})}};t.default=c}).call(this,n("6e42")["default"],n("0de9")["default"])},c9e1:function(e,t,n){"use strict";n.r(t);var a=n("b972"),o=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);t["default"]=o.a},f480:function(e,t,n){}},[["0c6e","common/runtime","common/vendor"]]]);