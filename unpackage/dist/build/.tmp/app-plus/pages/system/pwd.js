(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/system/pwd"],{"044c":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},s=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s})},"12a6":function(e,t,n){"use strict";n.r(t);var o=n("bfb0"),s=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);t["default"]=s.a},bfb0:function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(){return n.e("components/m-input").then(n.bind(null,"9faa"))},a={components:{mInput:s},data:function(){return{shopObj:{},password:"",passwordok:"",phone:"",code:"",time:60,codeSend:!1,disabled:!0}},methods:{checkPhone:function(e){return!!/^1[3456789]\d{9}$/.test(e)},sava:function(){var t=this;if(t.code&&t.password&&t.passwordok){if(t.password!=t.passwordok)return void e.showToast({title:"两次输入的密码不一样",icon:"none"});t.$ajax({url:"/system/changePassword",data:{code:t.code,merchantId:t.shopObj.merchantId,newPassword:t.password,phone:t.phone,smsType:"SMS_161591480",type:1},success:function(n){e.showToast({title:"修改成功",icon:"none"}),t.code="",t.password="",t.passwordok="",setTimeout(function(){e.navigateBack({delta:1})},1500)}})}else e.showToast({title:"请填写完整的信息",icon:"none"})},sendCode:function(){var t=this;if(!this.codeSend){t.checkPhone(t.phone)||e.showToast({title:"请填写正确的手机号码",icon:"none"}),this.codeSend=!0;var n=setInterval(function(){t.time-=1,0==t.time&&(t.codeSend=!1,t.time=60,clearInterval(n))},1e3);t.$ajax({url:"/sms",data:{phone:t.phone,type:"SMS_161591480"},success:function(e){console.log(o(e," at pages\\system\\pwd.vue:120"))}})}}},onReady:function(){e.getStorageSync("phone")?(this.phone=e.getStorageSync("phone"),console.log(o(this.phone," at pages\\system\\pwd.vue:128"))):e.showModal({title:"提示",content:"当前还没有安全手机,是否去添加",cancelText:"返回",confirmText:"去添加",success:function(t){t.confirm?e.navigateTo({url:"/pages/system/phone"}):t.cancel&&e.navigateBack({delta:1})}})},onLoad:function(t){var n=this;console.log(o(t.existsCashCode," at pages\\system\\pwd.vue:151")),"true"==t.existsCashCode?e.setNavigationBarTitle({title:"修改取现密码"}):e.setNavigationBarTitle({title:"设置取现密码"}),e.getStorage({key:"shopObj",success:function(e){n.shopObj=JSON.parse(e.data)}})}};t.default=a}).call(this,n("6e42")["default"],n("0de9")["default"])},c90b:function(e,t,n){"use strict";n.r(t);var o=n("044c"),s=n("12a6");for(var a in s)"default"!==a&&function(e){n.d(t,e,function(){return s[e]})}(a);n("d958");var c=n("2877"),i=Object(c["a"])(s["default"],o["a"],o["b"],!1,null,"520a8468",null);t["default"]=i.exports},d958:function(e,t,n){"use strict";var o=n("fde6"),s=n.n(o);s.a},fde6:function(e,t,n){}},[["87db","common/runtime","common/vendor"]]]);